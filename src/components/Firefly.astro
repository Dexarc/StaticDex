---
---

<script>
    const fireflyStyle = document.createElement('style');
    fireflyStyle.textContent = `
        .firefly {
            position: absolute;
            width: 4px;
            height: 4px;
            background: yellow;
            border-radius: 50%;
            opacity: 0.5;
            box-shadow: 0 0 10px 5px rgb(217, 223, 140);
        }
    `;
    document.head.appendChild(fireflyStyle);

    const fireflyCount = 20;
    const fireflyArray = [];
    const fireflySize = 4;

    for (let i = 0; i < fireflyCount; i++){
        const firefly = document.createElement('div');
        firefly.className = 'firefly';
        document.body.appendChild(firefly);
     
        const positionX = Math.random() * (window.innerWidth - fireflySize);
        const positionY = Math.random() * (window.innerHeight - fireflySize);

        firefly.style.left = `${positionX}px`;
        firefly.style.top = `${positionY}px`;

        fireflyArray.push({
            element: firefly,
            positionX: positionX,
            positionY: positionY,
            speedX: (Math.random() - 0.5) * 3,
            speedY: (Math.random() - 0.5) * 3
        });
    }

    function moveFirefly(){  
        fireflyArray.forEach(j => {
            j.positionX += j.speedX;
            j.positionY += j.speedY;

            if (j.positionX <= 0 || j.positionX >= window.innerWidth - fireflySize ){
                j.speedX = -j.speedX;
                j.positionX = Math.max(0, Math.min(j.positionX, window.innerWidth - fireflySize));
            }

            if (j.positionY <= 0 || j.positionY >= window.innerHeight - fireflySize ){
                j.speedY = -j.speedY;
                j.positionY = Math.max(0, Math.min(j.positionY, window.innerHeight - fireflySize));
            }

            j.element.style.left = `${j.positionX}px`;
            j.element.style.top = `${j.positionY}px`;

            if( Math.random() < 0.02){
                j.speedX = (Math.random() - 0.5) * 4; 
                j.speedY = (Math.random() - 0.5) * 4;
            }
        });
        requestAnimationFrame(moveFirefly);
    }

    moveFirefly();
    window.addEventListener('resize', moveFirefly);
</script>