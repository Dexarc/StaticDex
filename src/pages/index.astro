  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="utf-8" />
      <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
      <meta name="viewport" content="width=device-width" />
      <meta name="generator" content={Astro.generator} />
      <title>Astrowhattttt</title>
      <style>
          * {
              margin: 0;
              padding: 0;
              box-sizing: border-box; /* Ensures consistent sizing */
          }
          html, body {
              margin: 0;
              padding: 0;
              width: 100%;
              height: 100%;
              overflow: hidden; /* Prevents scrollbars */
              position: relative; /* Allows absolute positioning of the firefly */
          }
          body {
              display: flex;
              justify-content: center;
              align-items: center;
          }
          img {
              width: 100vw;
              height: 100vh;
              object-fit: cover; /* Ensures the image scales without distortion */
              opacity: 0; /* Start image as invisible */
              animation: fadeIn 2s ease-in forwards; /* Apply fade-in animation */
          }
          @keyframes fadeIn {
              0% { opacity: 0; }
              100% { opacity: 1; }
          }
          /* Firefly Styles */
          .firefly {
              position: absolute;
              width: 10px; /* Size of the firefly */
              height: 10px; /* Size of the firefly */
              background: yellow; /* Color of the firefly */
              border-radius: 50%; /* Makes the firefly a circle */
              opacity: 0.6; /* Slight transparency */
              box-shadow: 0 0 10px 5px rgb(217, 223, 140); /* Glowing effect of shadow */
          }
      </style>
  </head>
  <body>
      <img src="/assets/bg.jpg" alt="Background" />
      <div class="firefly"></div> <!-- Firefly element -->

      <script>
        
        const firefly = document.querySelector('.firefly') as HTMLDivElement
        const fireflySize = 10;

        // Initial position
        let positionX = Math.random() * (window.innerWidth - fireflySize); // Ensure initial position is within bounds
        let positionY = Math.random() * (window.innerHeight - fireflySize); // Ensure initial position is within bounds
        
        // Speed calculation
        let speedX = (Math.random() - 0.5) * 3; // Random speed for x-direction
        let speedY = (Math.random() - 0.5) * 3; // Random speed for y-direction

        function moveFirefly(){  
            positionX += speedX;
            positionY += speedY;

            if (positionX <= 0 || positionX >= window.innerWidth - fireflySize ){
                speedX = -speedX; //reverse the position
                positionX = Math.max(0, Math.min(positionX, window.innerWidth - fireflySize));
            }

            if (positionY <= 0 || positionY >= window.innerHeight - fireflySize ){
                speedY = -speedY; //reverse the position
                positionY = Math.max(0, Math.min(positionY, window.innerHeight - fireflySize));
            }

            // Apply the new position
            firefly.style.left = `${positionX}px`;
            firefly.style.top = `${positionY}px`;

            // Generate a random change every 50 frames
            if( Math.random() < 0.02){
                speedX = (Math.random() - 0.5) * 4; 
                speedY = (Math.random() - 0.5) * 4;
            }


            // Request the next animation frame
            requestAnimationFrame(moveFirefly);
          }

          // Start the movement immediately
          moveFirefly();

          // Adjust firefly position on window resize
          window.addEventListener('resize',moveFirefly)
      </script>
  </body>
  </html>
